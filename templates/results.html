{% extends "base.html" %}
{% block content %}
{% if not rating and not salary %}
<div class="alert alert-danger">
  <strong>Error</strong> No data available for '{{ full_name }}'. Make sure to avoid using nicknames and abbreviations.
</div>
{% else %}

{% if not rating %}
<div class="alert alert-danger">
  <strong>Error</strong> No ratings available at <a href="http://www.ratemyteachers.com/">ratemyteachers.com</a>. Make sure to avoid using nicknames and abbreviations.
</div>
{% elif not salary %}
<div class="alert alert-danger">
  <strong>Error</strong> No salary available in the <a href="https://data.cityofnewyork.us/City-Government/Citywide-Payroll-Data-FY2014/k397-673e">Citywide Payroll Database</a>. Make sure to avoid using nicknames and abbreviations.
</div>
{% endif %}

{% if subject %}
<h1>Data for {{ subject }} teacher {{ full_name }}</h1>
{% else %}
<h1>Data for teacher {{ full_name }}</h1>
{% endif %}

{% if not rating or not salary %}
<h3>Efficiency: N/A*</h3>
{% else %}
<h3>Efficiency: {{ '{:,.2f}'.format(rating / salary * 100000) }}*</h3>
{% endif %}

{% if not rating %}
<h4>Rating: N/A</h4>
{% else %}
<h4>Rating: {{ rating }} out of 5.0 ({{ num_ratings }} reviews)</h4>
{% endif %}

{% if not salary %}
<h4>Salary: N/A</h4>
{% else %}
<h4>Salary: {{ '${:,.2f}'.format(salary) }} per year</h4>
{% endif %}

<h3>Efficiency as a percentage, relative to salary: {{ '{:,.2f}'.format(eff_percent) }} <h3>
<h3>Efficiency as a percentage, relative to maximum possible: {{ '{:,.2f}'.format(eff_percent / 2.2) }} <h3>
<p>Efficiency as a percentage relative to salary is calculated as ((rating ÷ max rating) ÷ (salary ÷ max salary)) ÷ max ratio (highest rating ÷ lowest slary).</p>
<p>Efficiency as a percentage relative to maximum is calculated as (Efficiency as a percentage relative to salary) ÷ (highest rating ÷ lowest slary).</p>

<p>*Effiency is calculated as rating ÷ salary &times; 100,000</p>


<h1>{{ full_name }} probably looks like this:</h1>
<img src="{{photo}}" class="img-rounded" style="max-height: 600px; max-width: 60%; display: block;" />
{% endif %}
{% endblock %}
